{"version":3,"sources":["app/main/main.controller.js"],"names":["MainController","$http","socket","ShowingMovies","mymovies","Theaters","get","then","response","data","syncUpdates","movieName","selectedMovie","MovieTitle","sessionStorage","setItem","console","log","rTheater","document","getElementById","opts","getElementsByTagName","selTheater","i","len","length","push","value","rDate","selDate","rTime","selTime","join","selClass","class","location","href","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"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","file":"main.controller.js","sourcesContent":["'use strict';\n\n(function() {\n\n  class MainController {\n\n    constructor($http, socket) {\n      this.$http = $http;\n      this.socket = socket;\n      this.ShowingMovies=[];\n     \n      this.mymovies=[];\n      this.Theaters=[];      \n    }\n    $onInit(){\n      this.$http.get('/api/mappingendpoints').then(response =>{\n        this.ShowingMovies=response.data;\n        this.socket.syncUpdates('mappingendpoint', this.ShowingMovies);\n      });\n\n\n      this.$http.get('/api/mymoviess').then(response =>{\n        this.mymovies=response.data;\n        this.socket.syncUpdates('mymovies', this.mymovies);\n        \n      });\n      // this.$http.get('/api/theaterendpoints').then(response =>{\n      //   this.Theaters=response.data;\n      //   this.socket.syncUpdates('theaterendpoint', this.Theaters);\n      // });\n    }\n\n    bookMovie(movieName){\n\n  \n      this.selectedMovie=movieName.MovieTitle;\n      \n\n      sessionStorage.setItem(\"name\",this.selectedMovie);\n      \n      console.log(this.selectedMovie);\n     \n      \n    }\n   book(){\n   var rTheater = document.getElementById('tName'),\n   opts = rTheater.getElementsByTagName('option'),\n   selTheater = [];\n\nfor (var i = 1, len = opts.length; i < len; i++) {\n   selTheater.push(opts[i].value);\n  \n}\nvar rDate = document.getElementById('tDate'),\nopts = rDate.getElementsByTagName('option'),\nselDate = [];\n\nfor (var i = 1, len = opts.length; i < len; i++) {\nselDate.push(opts[i].value);\n\n}\nvar rTime = document.getElementById('tTime'),\nopts = rTime.getElementsByTagName('option'),\nselTime = [];\n\nfor (var i = 1, len = opts.length; i < len; i++) {\nselTime.push(opts[i].value);\n\n}\nsessionStorage.setItem(\"seletedTheater\",selTheater);\nselTheater = selTheater.join();\nselTime=selTime.join();\nselDate=selDate.join();\nthis.selClass=this.class;\nsessionStorage.setItem('myClass',this.selClass);\nsessionStorage.setItem('selectedDate',selDate);\nsessionStorage.setItem('selectedTime',selTime);\n\n   location.href=('/booking');\n }\n\n    }\n  \n  \n\n  angular.module('myMoviAppApp')\n    .component('main', {\n      templateUrl: 'app/main/main.html',\n      controller: MainController,\n      controllerAs: 'mainCtrl'\n    });\n})();\n"]}