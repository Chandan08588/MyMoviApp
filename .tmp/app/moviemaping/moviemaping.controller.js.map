{"version":3,"sources":["app/moviemaping/moviemaping.controller.js"],"names":["MoviemapingComponent","$http","socket","$scope","message","Theaters","mymovies","showTime","ShowingMovies","$","document","ready","click","data","val","append","date","rdate","getElementById","opts","getElementsByTagName","showDates","i","len","length","push","value","rTime","showTimes","rTheater","showTheaters","post","MovieTitle","movie","City","city","Theater","ShowDate","ShowTime","window","alert","mtime","mdate","mtheater","get","then","response","syncUpdates","delete","_id","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"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","file":"moviemaping.controller.js","sourcesContent":["'use strict';\n\n(function () {\n\n  class MoviemapingComponent {\n    constructor($http, socket, $scope) {\n      this.message = 'Hello';\n      this.$http = $http;\n      this.Theaters = [];\n      this.mymovies = [];\n      this.showTime = [];\n      this.socket = socket;\n      this.$scope = $scope;\n      this.ShowingMovies = [];\n      $(document).ready(function () {\n        $('#addtime').click(function () {\n          var data = ($('#hours').val()) + \" : \" + ($('#minutes').val()) + \" \" + ($('#ampm').val());\n          $('#restime').append(\"<option value='\" + data + \"'>\" + data + \"</option>\");\n        });\n      });\n      var date = $(document).ready(function () {\n        $('#adddate').click(function () {\n          var data = ($('#days').val()) + \" : \" + ($('#months').val()) + \" \" + ($('#years').val());\n          $('#resdate').append(\"<option value='\" + data + \"'>\" + data + \"</option>\");\n        });\n      });\n      $(document).ready(function () {\n        $('#addtheater').click(function () {\n          var data = ($('#theater').val());\n          $('#restheater').append(\"<option value='\" + data + \"'>\" + data + \"</option>\");\n        });\n      });\n    }\n    MapMovie() {\n      var rdate = document.getElementById('resdate'),\n        opts = rdate.getElementsByTagName('option'),\n        showDates = [];\n      for (var i = 0, len = opts.length; i < len; i++) {\n        showDates.push(opts[i].value);\n      }\n      var rTime = document.getElementById('restime'),\n        opts = rTime.getElementsByTagName('option'),\n        showTimes = [];\n      for (var i = 0, len = opts.length; i < len; i++) {\n        showTimes.push(opts[i].value);\n      }\n      var rTheater = document.getElementById('restheater'),\n        opts = rTheater.getElementsByTagName('option'),\n        showTheaters = [];\n      for (var i = 0, len = opts.length; i < len; i++) {\n        showTheaters.push(opts[i].value);\n      }\n      this.$http.post('/api/mappingendpoints', {\n        MovieTitle: this.movie,\n        City: this.city,\n        Theater: showTheaters,\n        ShowDate: showDates,\n        ShowTime: showTimes\n      });\n      window.alert(\"Movie Mapped\");\n      this.movie=' ';\n      this.city=' ';\n      this.mtime=' ';\n      this.mdate=' ';\n      this.mtheater=' ';\n    }\n    $onInit() {\n      this.$http.get('/api/mymoviess').then(response => {\n        this.mymovies = response.data;\n        this.socket.syncUpdates('mymovies', this.mymovies);\n      });\n      this.$http.get('/api/theaterendpoints').then(response => {\n        this.Theaters = response.data;\n        this.socket.syncUpdates('theaterendpoint', this.Theaters);\n      });\n      this.$http.get('/api/mappingendpoints').then(response => {\n        this.ShowingMovies = response.data;\n        this.socket.syncUpdates('mappingendpoint', this.ShowingMovies);\n      });\n    }\n    delMovie(ShowingMovies) {\n      this.$http.delete('/api/mappingendpoints/' + ShowingMovies._id);\n    }\n  }\n  angular.module('myMoviAppApp')\n    .component('moviemaping', {\n      templateUrl: 'app/moviemaping/moviemaping.html',\n      controller: MoviemapingComponent,\n      controllerAs: 'moviemapingCtrl'\n    });\n\n})();\n"]}